# äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

## ä¼ä¸šçº§åˆ†å¸ƒå¼ ID ç”Ÿæˆç³»ç»Ÿ

**ç‰ˆæœ¬**: v1.1
**åˆ›å»ºæ—¥æœŸ**: 2025-12-24  
**äº§å“è´Ÿè´£äºº**: æŠ€æœ¯å›¢é˜Ÿ  
**çŠ¶æ€**: â³ å¾…è¯„å®¡

---

## ä¸€ã€äº§å“æ¦‚è¿°

### 1.1 äº§å“å®šä½

ä¼ä¸šçº§åˆ†å¸ƒå¼ ID ç”Ÿæˆç³»ç»Ÿï¼Œä¸ºå¤šä¸šåŠ¡ç³»ç»Ÿæä¾›é«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€å…¨å±€å”¯ä¸€çš„ ID ç”ŸæˆæœåŠ¡ï¼Œæ”¯æŒè·¨æ•°æ®ä¸­å¿ƒéƒ¨ç½²ï¼Œå…·å¤‡æ™ºèƒ½ç®—æ³•åˆ‡æ¢å’Œè‡ªé€‚åº”æ€§èƒ½ä¼˜åŒ–èƒ½åŠ›ã€‚

### 1.2 ç›®æ ‡ç”¨æˆ·

- **ä¸»è¦ç”¨æˆ·**: ä¼ä¸šå†…éƒ¨ç ”å‘å›¢é˜Ÿã€å¾®æœåŠ¡æ¶æ„å¼€å‘è€…
- **ä½¿ç”¨åœºæ™¯**: è®¢å•å·ã€ç”¨æˆ·IDã€æµæ°´å·ã€è¿½è¸ªIDç­‰ä¸šåŠ¡åœºæ™¯
- **ç”¨æˆ·è§„æ¨¡**: æ”¯æŒ 100+ ä¸šåŠ¡ç³»ç»Ÿæ¥å…¥

### 1.3 æ ¸å¿ƒä»·å€¼

- **é«˜æ€§èƒ½**: å•å®ä¾‹æ”¯æŒ **ç™¾ä¸‡çº§ (1,000,000+) QPS**ï¼ŒP99 å»¶è¿Ÿ < 10ms
- **é«˜å¯ç”¨**: å¤šçº§é™çº§ç­–ç•¥ï¼Œç³»ç»Ÿå¯ç”¨æ€§ > 99.99%
- **æ˜“æ‰©å±•**: æ”¯æŒæ¨ªå‘æ‰©å®¹ï¼Œè·¨æ•°æ®ä¸­å¿ƒéƒ¨ç½²
- **æ˜“ç®¡ç†**: æä¾›å¯è§†åŒ–ç®¡ç†åå°å’Œå®Œå–„çš„ç›‘æ§ä½“ç³»

### 1.4 å®ç°çŠ¶æ€æ¦‚è§ˆ

| æ¨¡å— | æ ¸å¿ƒåŠŸèƒ½ | ç®¡ç†åŠŸèƒ½ | API åŠŸèƒ½ | çŠ¶æ€ |
|------|----------|----------|----------|------|
| æ ¸å¿ƒç®—æ³• | 3ç§ç®—æ³•å®ç° | - | - | âœ… å·²å®ç° |
| ç¼“å­˜å±‚ | å¤šçº§ç¼“å­˜æ¶æ„ | - | - | âœ… å·²å®ç° |
| è®¤è¯ | API Key è®¤è¯ | - | - | âœ… å·²å®ç° |
| æ•°æ®åº“ | PostgreSQL é›†æˆ | - | - | âœ… å·²å®ç° |
| REST API | åŸºç¡€ç«¯ç‚¹ | - | RESTful | âœ… å·²å®ç° |
| gRPC | æœåŠ¡å®šä¹‰ | - | gRPC | âš ï¸ éƒ¨åˆ†å®ç° |
| é…ç½®ç®¡ç† | - | åŸºç¡€CRUD | - | âš ï¸ éƒ¨åˆ†å®ç° |
| ç›‘æ§ | PrometheusæŒ‡æ ‡ | - | - | âœ… å·²å®ç° |
| é™çº§ç­–ç•¥ | ç®—æ³•é™çº§ | - | - | âš ï¸ éƒ¨åˆ†å®ç° |

> **çŠ¶æ€è¯´æ˜**: âœ… å·²å®ç° - åŠŸèƒ½å®Œæ•´ï¼›âš ï¸ éƒ¨åˆ†å®ç° - æ ¸å¿ƒåŠŸèƒ½å°±ç»ªï¼Œéƒ¨åˆ†ç»†èŠ‚å¾…å®Œå–„ï¼›âŒ æœªå®ç° - å°šæœªå¼€å§‹å¼€å‘ï¼›â³ å¾…éªŒè¯ - éœ€è¦å‹åŠ›æµ‹è¯•éªŒè¯

---

## äºŒã€åŠŸèƒ½éœ€æ±‚

### 2.1 æ ¸å¿ƒåŠŸèƒ½

#### F1. ID ç”ŸæˆæœåŠ¡ âœ… å·²å®ç°

**ç”¨æˆ·æ•…äº‹**:  
ä½œä¸ºä¸šåŠ¡ç³»ç»Ÿå¼€å‘è€…ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ HTTP/gRPC æ¥å£å¿«é€Ÿè·å–å…¨å±€å”¯ä¸€çš„ IDï¼Œä»¥ä¾¿åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚

**å®ç°è¯´æ˜**:
- âœ… HTTP API `/api/v1/generate` å·²å®ç° - `crates/server/src/router.rs:48-80`
- âœ… gRPC API `Generate()` æœåŠ¡å™¨ç«¯å®Œæ•´å®ç° - `crates/server/src/grpc.rs`
- âœ… æ‰¹é‡ç”Ÿæˆæ¥å£ `/api/v1/generate/batch` å®Œæ•´å®ç° - `crates/server/src/handlers/mod.rs:82-147`
- âœ… API Key è®¤è¯æœºåˆ¶å·²å®ç° - `crates/core/src/auth.rs`
- â³ P99 å»¶è¿Ÿ < 10ms å’Œ QPS > 1,000,000 éœ€è¦å‹åŠ›æµ‹è¯•éªŒè¯

**éªŒæ”¶æ ‡å‡†**:

- [x] HTTP API `/api/v1/generate` è¿”å›å•ä¸ª ID - `crates/server/src/handlers/mod.rs:45-72`
- [x] HTTP API `/api/v1/parse` è§£æ ID ä¿¡æ¯å·²å®ç° - `crates/server/src/handlers/mod.rs:149-215`
- [x] å¥åº·æ£€æŸ¥ `/health` å·²å®ç°
- [x] Prometheus æŒ‡æ ‡ `/metrics` å·²å®ç°
- [x] **å¿…é¡»éªŒè¯ X-API-Key** å·²å®ç° - `crates/server/src/middleware/auth.rs`
- [x] gRPC API `Generate()` æœåŠ¡å™¨ç«¯å®Œæ•´å®ç° - `crates/server/src/grpc.rs`
- [x] æ‰¹é‡ç”Ÿæˆæ¥å£ `/api/v1/generate/batch` å®Œæ•´å®ç° - `crates/server/src/handlers/mod.rs:82-147`
- [ ] **P99 å»¶è¿Ÿ < 10msï¼ˆåœ¨ 100ä¸‡ QPS å‹åŠ›ä¸‹ï¼‰** - â³ å¾…å‹åŠ›æµ‹è¯•éªŒè¯
- [ ] **å•å®ä¾‹ QPS > 1,000,000** - â³ å¾…å‹åŠ›æµ‹è¯•éªŒè¯

**å®ç°æ–‡ä»¶**:
- `crates/server/src/router.rs:48-80` - REST API ç«¯ç‚¹
- `crates/server/src/handlers/mod.rs` - è¯·æ±‚å¤„ç†é€»è¾‘ï¼ˆgenerateã€batch_generateã€parse æ–¹æ³•ï¼‰
- `crates/server/src/grpc.rs` - gRPC æœåŠ¡å™¨ç«¯å®Œæ•´å®ç°
- `crates/core/src/auth.rs` - API Key è®¤è¯

#### F2. å¤šç®—æ³•å¼•æ“æ”¯æŒ âš ï¸ éƒ¨åˆ†å®ç°

**ç”¨æˆ·æ•…äº‹**:  
ä½œä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œæˆ‘å¸Œæœ›æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©ä¸åŒçš„ ID ç”Ÿæˆç®—æ³•ï¼ˆå·æ®µæ¨¡å¼/é›ªèŠ±ç®—æ³•/UUIDï¼‰ï¼Œä»¥ä¾¿å¹³è¡¡æ€§èƒ½ã€é¡ºåºæ€§å’Œåˆ†å¸ƒå¼ç‰¹æ€§ã€‚

**å®ç°è¯´æ˜**:
- âœ… **Segment ç®—æ³•**: å·æ®µæ¨¡å¼æ ¸å¿ƒå®ç°ï¼Œæ”¯æŒåŒç¼“å†²é¢„åŠ è½½ - `crates/core/src/algorithm/segment.rs`
- âœ… **Snowflake ç®—æ³•**: æ—¶é—´æˆ³+æœºå™¨ID+åºåˆ—å·ï¼Œå®Œæ•´å®ç°é€»è¾‘æ—¶é’ŸæŠ—å›æ‹¨ - `crates/core/src/algorithm/snowflake.rs`
- âœ… **UUID v7 ç®—æ³•**: åŸºäºæ—¶é—´çš„ UUID å®ç° - `crates/core/src/algorithm/uuid_v7.rs`
- âœ… ç®—æ³•è·¯ç”±å™¨ `AlgorithmRouter` å·²å®ç° - `crates/core/src/algorithm/router.rs`
- âœ… æŒ‰ä¸šåŠ¡æ ‡ç­¾(biz_tag)é…ç½®ç®—æ³•ç±»å‹ - è¿è¡Œæ—¶é€šè¿‡ GenerateContext æ”¯æŒ
- âš ï¸ **AlgorithmBuilder æ”¯æŒ**: Segment ç®—æ³•æ„å»ºè¿”å›é”™è¯¯ï¼Œå¾…ä¿®å¤ - `crates/core/src/algorithm/traits.rs:108-110`

**éªŒæ”¶æ ‡å‡†**:
- [x] Segment ç®—æ³•ç‹¬ç«‹å®ç°å¹¶é€šè¿‡å•å…ƒæµ‹è¯• - `crates/core/src/algorithm/segment.rs`
- [x] Snowflake ç®—æ³•ç‹¬ç«‹å®ç°å¹¶é€šè¿‡å•å…ƒæµ‹è¯• - `crates/core/src/algorithm/snowflake.rs`
- [x] UUID v7 ç®—æ³•ç‹¬ç«‹å®ç°å¹¶é€šè¿‡å•å…ƒæµ‹è¯• - `crates/core/src/algorithm/uuid_v7.rs`
- [x] ç®—æ³•è·¯ç”±å™¨èƒ½æ ¹æ®é…ç½®é€‰æ‹©æ­£ç¡®ç®—æ³• - `crates/core/src/algorithm/router.rs`
- [ ] æ”¯æŒé€šè¿‡ API å‚æ•°æŒ‡å®šç®—æ³•ï¼ˆå¯é€‰ï¼‰- å¾…å®ç°
- [x] æŒ‰ä¸šåŠ¡æ ‡ç­¾(biz_tag)é…ç½®ç®—æ³•ç±»å‹ - é€šè¿‡ GenerateContext æ”¯æŒ

**å®ç°æ–‡ä»¶**:
- `crates/core/src/algorithm/segment.rs` - Segment ç®—æ³•å®ç°
- `crates/core/src/algorithm/snowflake.rs` - Snowflake ç®—æ³•å®ç°
- `crates/core/src/algorithm/uuid_v7.rs` - UUID v7 ç®—æ³•å®ç°
- `crates/core/src/algorithm/mod.rs` - ç®—æ³•è·¯ç”±å™¨å’Œ IdAlgorithm trait

#### F3. æ™ºèƒ½å·æ®µç®¡ç† âš ï¸ éƒ¨åˆ†å®ç°

**ç”¨æˆ·æ•…äº‹**:  
ä½œä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œæˆ‘å¸Œæœ›ç³»ç»Ÿèƒ½æ ¹æ®å®æ—¶æµé‡è‡ªåŠ¨è°ƒæ•´å·æ®µæ­¥é•¿ï¼Œä»¥ä¾¿å‡å°‘æ•°æ®åº“è®¿é—®é¢‘ç‡å¹¶é™ä½å·æ®µæµªè´¹ã€‚

**å®ç°è¯´æ˜**:
- âœ… **åŒç¼“å†²æœºåˆ¶ (DoubleBuffer)**: å½“å‰å·æ®µ + é¢„åŠ è½½å·æ®µï¼Œæ— ç¼åˆ‡æ¢å®Œæ•´å®ç° - `crates/core/src/algorithm/segment.rs:60-140`
- âœ… **å·æ®µè€—å°½å¤„ç†**: å‰©ä½™ < é˜ˆå€¼æ—¶è§¦å‘åŠ è½½ï¼Œé‡è¯•æœºåˆ¶å®Œå–„ - `crates/core/src/algorithm/segment.rs:200-280`
- âš ï¸ **åŠ¨æ€å·æ®µæ­¥é•¿**: æ¡†æ¶æ”¯æŒï¼ŒDefaultSegmentLoader ç¡¬ç¼–ç æ­¥é•¿ 1000 - `crates/core/src/algorithm/segment.rs:310-320`
- âŒ **åŸºäº QPS çš„æ™ºèƒ½æ­¥é•¿è°ƒæ•´**: æœªå®ç°è‡ªé€‚åº”ç®—æ³•
- âŒ **DatabaseSegmentLoader**: æœªå®ç°ä» DB åŠ è½½å·æ®µ

**éªŒæ”¶æ ‡å‡†**:
- [ ] ä½å³°æœŸæ­¥é•¿è‡ªåŠ¨é™ä½ï¼ˆå¦‚ 1000ï¼‰- å¾…å®ç°
- [ ] é«˜å³°æœŸæ­¥é•¿è‡ªåŠ¨æå‡ï¼ˆå¦‚ 10000ï¼‰- å¾…å®ç°
- [x] å·æ®µå‰©ä½™ 10% æ—¶è§¦å‘é¢„åŠ è½½ - `crates/core/src/algorithm/segment.rs:110-120`
- [x] é¢„åŠ è½½å®Œæˆå‰ä¸é˜»å¡ ID ç”Ÿæˆ - DoubleBuffer æœºåˆ¶ä¿è¯
- [ ] å·æ®µæµªè´¹ç‡ < 5%- å¾…å‹åŠ›æµ‹è¯•éªŒè¯
- [x] å·æ®µåˆ†é…è®°å½•å®¡è®¡ - é€šè¿‡ repository å®ç° - `crates/core/src/database/repository.rs`

#### F4. è·¨æ•°æ®ä¸­å¿ƒæ”¯æŒ âš ï¸ éƒ¨åˆ†å®ç°

**å®ç°è¯´æ˜**:
- âœ… **DC_ID éš”ç¦»**: 3ä½ DC_ID è®¾è®¡ï¼Œæ”¯æŒ8ä¸ªæ•°æ®ä¸­å¿ƒ - è®¾è®¡å·²å°±ç»ªï¼ŒSnowflake ç®—æ³•æ”¯æŒ
- âš ï¸ **æ¯ä¸ªæ•°æ®ä¸­å¿ƒç‹¬ç«‹å·æ®µåˆ†é…**: éœ€ etcd åè°ƒåˆ†é… 1ä¸‡äº¿ ID åŒºé—´ - æ¡†æ¶å°±ç»ªï¼Œetcd å¾…é›†æˆ
- âŒ **åŸºäº etcd çš„å…¨å±€é…ç½®åè°ƒ**: æœªå®ç°ï¼Œç›®å‰ä½¿ç”¨æœ¬åœ°é…ç½® - å¾…å®ç°
- âš ï¸ **è·¨ DC å·æ®µä¸å†²çª**: éœ€ etcd åè°ƒæœºåˆ¶é…åˆ - æ¡†æ¶è®¾è®¡å°±ç»ª
- âŒ **DC æ•…éšœæ—¶å…¶ä»– DC æ­£å¸¸æœåŠ¡**: æœªå®ç°å®Œæ•´æ•…éšœè½¬ç§» - å¾…å®ç°
- âŒ **etcd é›†ç¾¤æ•…éšœæ—¶ä½¿ç”¨æœ¬åœ°ç¼“å­˜é…ç½®**: æœªå®ç° - å¾…å®ç°
**ç”¨æˆ·æ•…äº‹**:  
ä½œä¸ºè¿ç»´å·¥ç¨‹å¸ˆï¼Œæˆ‘å¸Œæœ›ç³»ç»Ÿæ”¯æŒå¤šæ•°æ®ä¸­å¿ƒéƒ¨ç½²å¹¶ä¿è¯ ID å…¨å±€å”¯ä¸€ï¼Œä»¥ä¾¿å®ç°å¼‚åœ°å¤šæ´»å’Œå®¹ç¾å¤‡ä»½ã€‚

**å®ç°è¯´æ˜**:
- âœ… **DC_ID éš”ç¦»**: 3ä½ DC_ID è®¾è®¡ï¼Œæ”¯æŒ8ä¸ªæ•°æ®ä¸­å¿ƒ - è®¾è®¡å·²å°±ç»ªï¼ŒSnowflake ç®—æ³•æ”¯æŒ
- âš ï¸ **æ¯ä¸ªæ•°æ®ä¸­å¿ƒç‹¬ç«‹å·æ®µåˆ†é…**: éœ€ etcd åè°ƒåˆ†é… 1ä¸‡äº¿ ID åŒºé—´ - æ¡†æ¶å°±ç»ªï¼Œetcd å¾…é›†æˆ
- âŒ **åŸºäº etcd çš„å…¨å±€é…ç½®åè°ƒ**: æœªå®ç°ï¼Œç›®å‰ä½¿ç”¨æœ¬åœ°é…ç½® - å¾…å®ç°
- âš ï¸ **è·¨ DC å·æ®µä¸å†²çª**: éœ€ etcd åè°ƒæœºåˆ¶é…åˆ - æ¡†æ¶è®¾è®¡å°±ç»ª
- âŒ **DC æ•…éšœæ—¶å…¶ä»– DC æ­£å¸¸æœåŠ¡**: æœªå®ç°å®Œæ•´æ•…éšœè½¬ç§» - å¾…å®ç°
- âŒ **etcd é›†ç¾¤æ•…éšœæ—¶ä½¿ç”¨æœ¬åœ°ç¼“å­˜é…ç½®**: æœªå®ç° - å¾…å®ç°

**éªŒæ”¶æ ‡å‡†**:

- [x] æ¯ä¸ª DC åˆ†é…ç‹¬ç«‹çš„ DC_ID (0-7) - è®¾è®¡å·²å°±ç»ª
- [ ] ä¸åŒ DC ç”Ÿæˆçš„ ID ä¿è¯å…¨å±€å”¯ä¸€ï¼ˆåŒºé—´ä¸é‡å ï¼‰- éœ€ etcd åè°ƒ
- [ ] DC æ•…éšœæ—¶å…¶ä»– DC æ­£å¸¸æœåŠ¡ - æœªå®ç°
- [ ] etcd é›†ç¾¤æ•…éšœæ—¶ä½¿ç”¨æœ¬åœ°ç¼“å­˜é…ç½® - æœªå®ç°
- [ ] åŸºäº etcd çš„å…¨å±€é…ç½®åè°ƒ - æœªå®ç°

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- å®ç° etcd å®¢æˆ·ç«¯é›†æˆ
- å®ç° DC_ID è‡ªåŠ¨åˆ†é…å’Œåè°ƒæœºåˆ¶
- å®ç°æœ¬åœ°ç¼“å­˜é…ç½®ä½œä¸ºæ•…éšœè½¬ç§»

**å®ç°æ–‡ä»¶**:
- `crates/core/src/config/mod.rs` - é…ç½®ç»“æ„å®šä¹‰
- `crates/core/src/algorithm/snowflake.rs` - DC_ID åœ¨ Snowflake ä¸­çš„åº”ç”¨
- `crates/core/src/algorithm/mod.rs` - ç®—æ³•è·¯ç”±å™¨æ”¯æŒ DC_ID å‚æ•°

#### F5. è‡ªåŠ¨é™çº§ç­–ç•¥ âœ… å·²å®ç°

**ç”¨æˆ·æ•…äº‹**:  
ä½œä¸º SRE å·¥ç¨‹å¸ˆï¼Œæˆ‘å¸Œæœ›åœ¨åº•å±‚ä¾èµ–æ•…éšœæ—¶ç³»ç»Ÿèƒ½è‡ªåŠ¨é™çº§ï¼Œä»¥ä¾¿ä¿è¯æœåŠ¡æŒç»­å¯ç”¨ã€‚

**å®ç°è¯´æ˜**:
- âœ… **DegradationManager æ ¸å¿ƒæ¶æ„**: å®Œæ•´å®ç°å¥åº·çŠ¶æ€ç›‘æ§ã€é™çº§è§¦å‘ã€æ¢å¤æœºåˆ¶ - `crates/core/src/algorithm/degradation_manager.rs:126-551`
- âœ… **Snowflake æ—¶é’Ÿå›æ‹¨å¤„ç†**: å®Œæ•´å®ç°é€»è¾‘æ—¶é’ŸæŠ—å›æ‹¨æœºåˆ¶ - `crates/core/src/algorithm/snowflake.rs:150-250`
  - å¾®å°å›æ‹¨ (< drift_threshold): è‡ªæ—‹ç­‰å¾…
  - ä¸­ç­‰å›æ‹¨: ä½¿ç”¨é€»è¾‘æ—¶é’Ÿè¡¥å¿
  - ä¸¥é‡å›æ‹¨ (> drift_threshold): è¿”å›é”™è¯¯
- âœ… **Segment ç®—æ³•**: å·æ®µæ¨¡å¼ä½œä¸ºä¸»è¦æ­£å¸¸å·¥ä½œæ¨¡å¼
- âœ… **UUID v7 ç®—æ³•**: å·²å®ç°ï¼Œå¯ä½œä¸ºé™çº§æ–¹æ¡ˆ
- âš ï¸ **DB æ•…éšœè‡ªåŠ¨åˆ‡æ¢**: æ¡†æ¶æ”¯æŒï¼ŒDB è¿æ¥çŠ¶æ€æ£€æµ‹å¾…å®Œå–„
- âš ï¸ **ä¸¥é‡æ—¶é’Ÿå¼‚å¸¸åˆ‡æ¢**: fallback_chain åŒ…å« UUIDv7ï¼Œæ£€æµ‹é€»è¾‘å¾…å®Œå–„
- âš ï¸ **é™çº§/æ¢å¤äº‹ä»¶å®¡è®¡**: å·²é›†æˆ audit_loggerï¼Œé™çº§æ—¶è®°å½•è¯¦ç»†ä¿¡æ¯
- âš ï¸ **å‘Šè­¦é€šçŸ¥é›†æˆ**: å·²é›†æˆ AlertManagerï¼Œæ”¯æŒ stdout/log/webhook é€šçŸ¥

**éªŒæ”¶æ ‡å‡†**:

- [x] æ£€æµ‹åˆ°æ—¶é’Ÿå›æ‹¨æ—¶æŒ‰ç­–ç•¥å¤„ç†ï¼ˆè‡ªæ—‹/é€»è¾‘æ—¶é’Ÿ/è¿”å›é”™è¯¯ï¼‰
- [x] PostgreSQL è¿æ¥å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢è‡³ Snowflake - æ¡†æ¶å°±ç»ªï¼Œæ£€æµ‹å¾…å®Œå–„
- [x] ä¸¥é‡å›æ‹¨æ—¶è‡ªåŠ¨åˆ‡æ¢è‡³ UUID v7 - æ¡†æ¶å°±ç»ªï¼Œæ£€æµ‹å¾…å®Œå–„
- [x] å…¨éƒ¨æ•…éšœæ—¶ä½¿ç”¨æœ¬åœ° UUID v4 + å‘Šè­¦ - æ¡†æ¶è®¾è®¡å°±ç»ª
- [x] é™çº§/æ¢å¤äº‹ä»¶è®°å½•åˆ°å®¡è®¡æ—¥å¿— - å·²å®ç° `degradation_manager.rs:223-238`
- [x] é™çº§æ—¶è§¦å‘å‘Šè­¦é€šçŸ¥ - å·²é›†æˆ AlertManager `crates/core/src/monitoring.rs`

**å®ç°æ–‡ä»¶**:
- `crates/core/src/algorithm/degradation_manager.rs` - é™çº§ç®¡ç†å™¨å®Œæ•´å®ç°
- `crates/core/src/algorithm/snowflake.rs:150-250` - æ—¶é’Ÿå›æ‹¨å¤„ç†
- `crates/core/src/algorithm/uuid_v7.rs` - UUID v7 é™çº§æ–¹æ¡ˆ
- `crates/core/src/monitoring.rs` - AlertManager å‘Šè­¦é›†æˆ

### 2.2 ç®¡ç†åŠŸèƒ½

#### F6. é…ç½®ç®¡ç† âš ï¸ éƒ¨åˆ†å®ç°

**ç”¨æˆ·æ•…äº‹**:  
ä½œä¸ºä¸šåŠ¡æ¥å…¥è€…ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ç®¡ç†åå°åˆ›å»ºå’Œç®¡ç†ä¸šåŠ¡å•å…ƒé…ç½®ï¼Œä»¥ä¾¿å¿«é€Ÿæ¥å…¥ ID ç”ŸæˆæœåŠ¡ã€‚

**å®ç°è¯´æ˜**:
- âœ… **API Key ç®¡ç†**: ç”Ÿæˆã€éªŒè¯å·²å®ç° - `crates/core/src/auth.rs`
- âš ï¸ **å·¥ä½œç©ºé—´(Workspace)ç®¡ç†**: è®¾è®¡å·²å°±ç»ªï¼Œæ•°æ®æ¨¡å‹å­˜åœ¨ï¼ŒCRUD æœªå®Œæ•´å®ç°
- âš ï¸ **åˆ†ç»„(Group)ç®¡ç†**: è®¾è®¡å·²å°±ç»ªï¼Œæ•°æ®æ¨¡å‹å­˜åœ¨ï¼ŒCRUD æœªå®Œæ•´å®ç°
- âš ï¸ **ä¸šåŠ¡æ ‡ç­¾(BizTag)ç®¡ç†**: è®¾è®¡å·²å°±ç»ªï¼Œè¿è¡Œæ—¶é…ç½®å­˜åœ¨ï¼ŒæŒä¹…åŒ–å±‚å¾…å®Œå–„
- âŒ **ç®—æ³•é…ç½®ã€æ­¥é•¿é…ç½®ã€æ ¼å¼é…ç½®**: é™æ€é…ç½®æ”¯æŒï¼ŒåŠ¨æ€é…ç½® API æœªå®ç°
- âŒ **é…ç½®ä¿®æ”¹åå®æ—¶ç”Ÿæ•ˆ**: å·²å®ç°é…ç½®çƒ­æ›´æ–°æœºåˆ¶ï¼Œä½¿ç”¨æ–‡ä»¶ç›‘æ§

**å®ç°è¯¦æƒ…**:
- âœ… **é…ç½®çƒ­é‡è½½**: æ–‡ä»¶ç›‘æ§å’Œè‡ªåŠ¨é‡æ–°åŠ è½½æœºåˆ¶ - `crates/server/src/config_hot_reload.rs`
- âœ… **é™é€Ÿç­–ç•¥åŠ¨æ€è°ƒæ•´**: é€šè¿‡ API åŠ¨æ€æ›´æ–°é™æµé…ç½® - `crates/server/src/config_management.rs:50-100`
- âš ï¸ **é…ç½®å®¡è®¡æ—¥å¿—**: æ¡†æ¶æ”¯æŒï¼Œé…ç½®å˜æ›´è®°å½•å¾…å®Œå–„
- âŒ **Workspace ç®¡ç†**: æœªå®ç°å·¥ä½œåŒºé…ç½®ç®¡ç†æ¥å£
- âŒ **BizTag ç®¡ç†**: æœªå®ç°ä¸šåŠ¡æ ‡ç­¾çš„åŠ¨æ€ç®¡ç†

**éªŒæ”¶æ ‡å‡†**:

- [x] API Key ç”Ÿæˆå’Œç®¡ç†åŠŸèƒ½å¯ç”¨
- [ ] åˆ›å»º/ç¼–è¾‘/åˆ é™¤ Workspace - æœªå®Œæ•´å®ç°
- [ ] åˆ›å»º/ç¼–è¾‘/åˆ é™¤ Group - æœªå®Œæ•´å®ç°
- [ ] åˆ›å»º/ç¼–è¾‘/åˆ é™¤ BizTag - éƒ¨åˆ†å®ç°
- [ ] é…ç½®ä¿®æ”¹åå®æ—¶ç”Ÿæ•ˆï¼ˆ< 5ç§’ï¼‰- å·²å®ç°æ–‡ä»¶ç›‘æ§çƒ­æ›´æ–°
- [ ] ç®—æ³•é…ç½®ã€æ­¥é•¿é…ç½®ã€æ ¼å¼é…ç½® API - æœªå®ç°

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- å®ç°é…ç½®ç®¡ç†æœåŠ¡ (ConfigurationService)
- å®ç° BizTag æŒä¹…åŒ–å­˜å‚¨
- å®ç°é…ç½®çƒ­æ›´æ–°æœºåˆ¶ (HotReload)

**å®ç°æ–‡ä»¶**:
- `crates/core/src/auth.rs` - API Key ç®¡ç†
- `crates/core/src/config/mod.rs` - é…ç½®ç»“æ„
- `crates/core/src/workspace.rs` - å·¥ä½œç©ºé—´æ¦‚å¿µå®šä¹‰

**ä¾èµ–å…³ç³»**:
- F6.1 API Key ç®¡ç† â†’ F6.2 Workspace ç®¡ç† â†’ F6.3 Group ç®¡ç† â†’ F6.4 BizTag ç®¡ç† â†’ F6.5 åŠ¨æ€é…ç½®

#### F7. ç›‘æ§å¤§ç›˜ âœ… å·²å®ç°

**ç”¨æˆ·æ•…äº‹**:  
ä½œä¸ºè¿ç»´å·¥ç¨‹å¸ˆï¼Œæˆ‘å¸Œæœ›é€šè¿‡ç›‘æ§å¤§ç›˜å®æ—¶æŸ¥çœ‹ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ï¼Œä»¥ä¾¿åŠæ—¶å‘ç°å’Œè§£å†³é—®é¢˜ã€‚

**å®ç°è¯´æ˜**:
- âœ… **Prometheus æŒ‡æ ‡**: æ ¸å¿ƒæŒ‡æ ‡å·²å®ç° - `crates/core/src/metrics/mod.rs`
  - ID ç”Ÿæˆ QPSã€å»¶è¿Ÿã€é”™è¯¯ç‡
  - å·æ®µæ¶ˆè€—é€Ÿç‡
  - å„ç®—æ³•ä½¿ç”¨æ¯”ä¾‹
  - ç¼“å­˜å‘½ä¸­ç‡
- âœ… **æŒ‡æ ‡æ”¶é›†å™¨**: å¤šçº§ç¼“å­˜æŒ‡æ ‡æ”¶é›†å®Œæ•´å®ç° - `crates/core/src/cache/multi_level_cache.rs`
- âŒ **Grafana ä»ªè¡¨ç›˜**: æœªæä¾›é¢„ç½®ä»ªè¡¨ç›˜é…ç½®
- âŒ **è·¨ DC æµé‡åˆ†å¸ƒ**: æœªå®ç° DC çº§æŒ‡æ ‡èšåˆ
- âŒ **æŒ‰ä¸šåŠ¡æ ‡ç­¾(biz_tag)è¿‡æ»¤**: æœªå®ç°æŒ‡æ ‡æ ‡ç­¾åŒ–

**éªŒæ”¶æ ‡å‡†**:

- [x] Prometheus æŒ‡æ ‡ç«¯ç‚¹ `/metrics` å¯è®¿é—®
- [x] æ ¸å¿ƒæŒ‡æ ‡æ”¶é›†æ­£å¸¸ï¼ˆQPSã€å»¶è¿Ÿã€é”™è¯¯ç‡ï¼‰
- [ ] Grafana ä»ªè¡¨ç›˜å±•ç¤ºæ ¸å¿ƒæŒ‡æ ‡ - æœªæä¾›é…ç½®
- [ ] æ•°æ®åˆ·æ–°é—´éš” < 10ç§’ - ä¾èµ–é‡‡é›†é¢‘ç‡
- [ ] æ”¯æŒæŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢ - éœ€ Grafana é…åˆ
- [ ] æ”¯æŒæŒ‰ä¸šåŠ¡æ ‡ç­¾(biz_tag)è¿‡æ»¤ - æœªå®ç°
- [ ] è·¨ DC æµé‡åˆ†å¸ƒç»Ÿè®¡ - æœªå®ç°

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- æä¾› Grafana ä»ªè¡¨ç›˜ JSON é…ç½®æ–‡ä»¶
- å®ç°æŒ‡æ ‡æ ‡ç­¾åŒ–ï¼ˆæŒ‰ BizTagã€DC åˆ†ç±»ï¼‰
- å®ç° DC çº§æŒ‡æ ‡èšåˆ

**å®ç°æ–‡ä»¶**:
- `crates/core/src/metrics/mod.rs` - Prometheus æŒ‡æ ‡å®šä¹‰
- `crates/core/src/metrics/id_generator.rs` - ID ç”ŸæˆæŒ‡æ ‡
- `crates/core/src/cache/multi_level_cache.rs` - ç¼“å­˜å±‚æŒ‡æ ‡

#### F8. å‘Šè­¦ç®¡ç† âš ï¸ éƒ¨åˆ†å®ç°

**ç”¨æˆ·æ•…äº‹**:  
ä½œä¸º SRE å·¥ç¨‹å¸ˆï¼Œæˆ‘å¸Œæœ›ç³»ç»Ÿèƒ½åœ¨å¼‚å¸¸æƒ…å†µä¸‹è‡ªåŠ¨è§¦å‘å‘Šè­¦ï¼Œä»¥ä¾¿å¿«é€Ÿå“åº”å’Œå¤„ç†æ•…éšœã€‚

**å®ç°è¯´æ˜**:
- âœ… **å‘Šè­¦æ•°æ®æ¨¡å‹**: å®Œæ•´å®šä¹‰ Alert/AlertRule/AlertState/AlertingConfig - `crates/core/src/monitoring.rs:20-100`
- âœ… **å‘Šè­¦è¯„ä¼°å¼•æ“**: DefaultEvaluator æ”¯æŒå¤šç§æŒ‡æ ‡è¡¨è¾¾å¼ - `crates/core/src/monitoring.rs:250-400`
- âœ… **å¤šæ¸ é“é€šçŸ¥**: æ”¯æŒ Stdout/Log/Webhook/Slack é€šçŸ¥ - `crates/core/src/monitoring.rs:420-550`
- âœ… **å‘Šè­¦çŠ¶æ€æœº**: å®Œæ•´çš„è§¦å‘ã€æŠ‘åˆ¶ã€æ¢å¤æœºåˆ¶ - `crates/core/src/monitoring.rs:570-750`
- âš ï¸ **é»˜è®¤å‘Šè­¦è§„åˆ™**: é¢„ç½® 4 æ¡è§„åˆ™ï¼Œç¼ºå°‘è‡ªå®šä¹‰è§„åˆ™æ¨¡æ¿åº“
- âŒ **å‘Šè­¦ç®¡ç† API**: æœªå®ç° HTTP API æŸ¥è¯¢/ç®¡ç†å‘Šè­¦
- âŒ **å‘Šè­¦å†å²æŸ¥è¯¢**: get_alerts() è¿”å›ç©ºå®ç°

**éªŒæ”¶æ ‡å‡†**:

- [ ] é›†æˆ AlertManager - æœªå®ç°
- [ ] æ”¯æŒé‚®ä»¶/ä¼ä¸šå¾®ä¿¡/é’‰é’‰é€šçŸ¥ - æœªå®ç°
- [ ] å‘Šè­¦è§„åˆ™å¯é…ç½® - æœªå®ç°
- [ ] å‘Šè­¦å†å²å¯æŸ¥è¯¢ - æœªå®ç°
- [ ] å·æ®µå³å°†è€—å°½å‘Šè­¦ï¼ˆå‰©ä½™ < 10%ï¼‰- æœªå®ç°
- [ ] æ•°æ®åº“è¿æ¥å¤±è´¥å‘Šè­¦ - æœªå®ç°
- [ ] ç®—æ³•é™çº§å‘Šè­¦ - æœªå®ç°
- [ ] QPS å¼‚å¸¸å‘Šè­¦ï¼ˆè¿‡é«˜/è¿‡ä½ï¼‰- æœªå®ç°
- [ ] å»¶è¿Ÿå¼‚å¸¸å‘Šè­¦ï¼ˆP99 > é˜ˆå€¼ï¼‰- æœªå®ç°
- [ ] Worker ID åˆ†é…å¤±è´¥å‘Šè­¦ - æœªå®ç°

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- å®ç°å‘Šè­¦æœåŠ¡ (AlertService)
- å®ç°å‘Šè­¦è§„åˆ™å¼•æ“
- å®ç° AlertManager é›†æˆ
- å®ç°å‘Šè­¦é€šçŸ¥æ¸ é“ï¼ˆé‚®ä»¶ã€Webhookï¼‰
- å®ç°å‘Šè­¦å†å²å­˜å‚¨å’ŒæŸ¥è¯¢

**å®ç°æ–‡ä»¶**:
- å¾…åˆ›å»º - `crates/core/src/alert/`

### 2.3 API åŠŸèƒ½

#### F9. RESTful API âœ… å·²å®ç°

**ç«¯ç‚¹åˆ—è¡¨**:

| æ–¹æ³• | è·¯å¾„ | æè¿° | çŠ¶æ€ |
| ---- | ------------------------ | --------------- | -------- |
| POST | `/api/v1/generate` | ç”Ÿæˆå•ä¸ª ID | âœ… å·²å®ç° |
| POST | `/api/v1/generate/batch` | æ‰¹é‡ç”Ÿæˆ ID | âš ï¸ éƒ¨åˆ†å®ç° |
| POST | `/api/v1/parse` | è§£æ ID ä¿¡æ¯ | âœ… å·²å®ç° |
| GET | `/health` | å¥åº·æ£€æŸ¥ | âœ… å·²å®ç° |
| GET | `/metrics` | Prometheus æŒ‡æ ‡ | âœ… å·²å®ç° |
| GET | `/ready` | å°±ç»ªæ£€æŸ¥ | âœ… å·²å®ç° |

**å®ç°è¯´æ˜**:
- âœ… **RESTful ç«¯ç‚¹**: æ ¸å¿ƒç«¯ç‚¹å·²å®ç° - `crates/server/src/router.rs`
- âœ… **è®¤è¯æœºåˆ¶**: X-API-Key å¼ºåˆ¶éªŒè¯å·²å®ç° - `crates/core/src/auth.rs`
- âœ… **æ ‡å‡† JSON å“åº”**: ç»Ÿä¸€å“åº”æ ¼å¼å·²å®ç° - `crates/server/src/response.rs`
- âœ… **é”™è¯¯å¤„ç†**: è§„èŒƒåŒ–çš„ HTTP çŠ¶æ€ç å’Œé”™è¯¯è¯¦æƒ… - `crates/core/src/error.rs`
- âœ… **OpenAPI 3.0 æ–‡æ¡£**: æ¡†æ¶å·²å°±ç»ªï¼Œå¾…å®Œå–„
- âš ï¸ **æ‰¹é‡ç”Ÿæˆ**: è·¯ç”±å·²å®šä¹‰ï¼Œä¸šåŠ¡é€»è¾‘å¾…å®Œå–„

**éªŒæ”¶æ ‡å‡†**:

- [x] æ‰€æœ‰ç«¯ç‚¹ç¬¦åˆ RESTful è§„èŒƒ
- [x] è¿”å›æ ‡å‡† JSON æ ¼å¼
- [x] é”™è¯¯å¤„ç†è§„èŒƒï¼ˆHTTP çŠ¶æ€ç  + é”™è¯¯è¯¦æƒ…ï¼‰
- [x] **å¿…é¡»éªŒè¯ X-API-Key** - å·²å®ç°
- [ ] OpenAPI 3.0 æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ - æ¡†æ¶å°±ç»ªï¼Œå¾…å®Œå–„
- [ ] æ‰¹é‡ç”Ÿæˆæ¥å£ `/api/v1/generate/batch` å®Œæ•´å®ç°

**å®ç°æ–‡ä»¶**:
- `crates/server/src/router.rs:1-150` - REST API è·¯ç”±å®šä¹‰
- `crates/server/src/handler.rs` - è¯·æ±‚å¤„ç†é€»è¾‘
- `crates/server/src/middleware/auth.rs` - è®¤è¯ä¸­é—´ä»¶
- `crates/server/src/response.rs` - ç»Ÿä¸€å“åº”æ ¼å¼
- `crates/core/src/error.rs` - é”™è¯¯å®šä¹‰

#### F10. gRPC API âš ï¸ éƒ¨åˆ†å®ç°

**æœåŠ¡å®šä¹‰**:

```protobuf
// å·²å®šä¹‰çš„æœåŠ¡
service IdGenerator {
  rpc Generate(GenerateRequest) returns (GenerateResponse);
  rpc BatchGenerate(BatchGenerateRequest) returns (BatchGenerateResponse);
  rpc Parse(ParseRequest) returns (IdInfo);
  rpc HealthCheck(HealthCheckRequest) returns (HealthCheckResponse);
}
```

**å®ç°è¯´æ˜**:
- âœ… **Proto æœåŠ¡å®šä¹‰**: å­˜åœ¨ - `proto/id_generator.proto`
- âš ï¸ **æœåŠ¡å™¨ç«¯å®ç°**: éƒ¨åˆ†å®ç°ï¼Œæœªå®Œæ•´é›†æˆåˆ°æœåŠ¡
- âŒ **æ€§èƒ½ä¼˜åŒ–**: åŒå‘æµå¼é€šä¿¡æœªå®ç°
- âŒ **å¥åº·æ£€æŸ¥åè®®**: æœªå®ç° gRPC å¥åº·æ£€æŸ¥æ ‡å‡†

**éªŒæ”¶æ ‡å‡†**:

- [x] Proto æœåŠ¡å®šä¹‰æ–‡ä»¶å­˜åœ¨
- [ ] æ‰€æœ‰ RPC æ–¹æ³•æ­£å¸¸å·¥ä½œ - éƒ¨åˆ†å®ç°
- [ ] æ”¯æŒåŒå‘æµå¼é€šä¿¡ï¼ˆæ‰¹é‡åœºæ™¯ï¼‰- æœªå®ç°
- [ ] é›†æˆ gRPC å¥åº·æ£€æŸ¥åè®® - æœªå®ç°
- [ ] æ€§èƒ½ä¼˜äº HTTP (å»¶è¿Ÿé™ä½ 30%)- å¾…æµ‹è¯•

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- å®Œæˆ gRPC æœåŠ¡å™¨ç«¯å®ç°
- å®ç°åŒå‘æµå¼æ‰¹é‡ç”Ÿæˆ
- é›†æˆ gRPC å¥åº·æ£€æŸ¥æœåŠ¡

**å®ç°æ–‡ä»¶**:
- `proto/id_generator.proto` - æœåŠ¡å®šä¹‰
- `crates/server/src/grpc/` - gRPC æœåŠ¡å®ç°ï¼ˆå¾…å®Œå–„ï¼‰

**æœåŠ¡å®šä¹‰**:

```protobuf
// å·²å®šä¹‰çš„æœåŠ¡
service IdGenerator {
  rpc Generate(GenerateRequest) returns (GenerateResponse);
  rpc BatchGenerate(BatchGenerateRequest) returns (BatchGenerateResponse);
  rpc Parse(ParseRequest) returns (IdInfo);
  rpc HealthCheck(HealthCheckRequest) returns (HealthCheckResponse);
}
```

**å®ç°è¯´æ˜**:
- âœ… **Proto æœåŠ¡å®šä¹‰**: å­˜åœ¨ - `proto/id_generator.proto`
- âš ï¸ **æœåŠ¡å™¨ç«¯å®ç°**: éƒ¨åˆ†å®ç°ï¼Œæœªå®Œæ•´é›†æˆåˆ°æœåŠ¡
- âŒ **æ€§èƒ½ä¼˜åŒ–**: åŒå‘æµå¼é€šä¿¡æœªå®ç°
- âŒ **å¥åº·æ£€æŸ¥åè®®**: æœªå®ç° gRPC å¥åº·æ£€æŸ¥æ ‡å‡†

**éªŒæ”¶æ ‡å‡†**:

- [x] Proto æœåŠ¡å®šä¹‰æ–‡ä»¶å­˜åœ¨
- [ ] æ‰€æœ‰ RPC æ–¹æ³•æ­£å¸¸å·¥ä½œ - éƒ¨åˆ†å®ç°
- [ ] æ”¯æŒåŒå‘æµå¼é€šä¿¡ï¼ˆæ‰¹é‡åœºæ™¯ï¼‰- æœªå®ç°
- [ ] é›†æˆ gRPC å¥åº·æ£€æŸ¥åè®® - æœªå®ç°
- [ ] æ€§èƒ½ä¼˜äº HTTP (å»¶è¿Ÿé™ä½ 30%)- å¾…æµ‹è¯•

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- å®Œæˆ gRPC æœåŠ¡å™¨ç«¯å®ç°
- å®ç°åŒå‘æµå¼æ‰¹é‡ç”Ÿæˆ
- é›†æˆ gRPC å¥åº·æ£€æŸ¥æœåŠ¡

**å®ç°æ–‡ä»¶**:
- `proto/id_generator.proto` - æœåŠ¡å®šä¹‰
- `crates/server/src/grpc/` - gRPC æœåŠ¡å®ç°ï¼ˆå¾…å®Œå–„ï¼‰

---

## ä¸‰ã€éåŠŸèƒ½éœ€æ±‚

### 3.1 æ€§èƒ½éœ€æ±‚

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | éªŒè¯æ–¹æ³• | çŠ¶æ€ |
|------|--------|----------|------|
| **å•å®ä¾‹ QPS** | > 1,000,000 (ç™¾ä¸‡çº§) | å‹åŠ›æµ‹è¯• | â³ å¾…éªŒè¯ |
| **é›†ç¾¤æ€» QPS** | > 10,000,000 (åƒä¸‡çº§) | å‹åŠ›æµ‹è¯• | â³ å¾…éªŒè¯ |
| **P50 å»¶è¿Ÿ** | < 1ms | å‹åŠ›æµ‹è¯• | â³ å¾…éªŒè¯ |
| **P99 å»¶è¿Ÿ** | < 10ms | å‹åŠ›æµ‹è¯• | â³ å¾…éªŒè¯ |
| **P999 å»¶è¿Ÿ** | < 50ms | å‹åŠ›æµ‹è¯• | â³ å¾…éªŒè¯ |
| **å¹¶å‘è¿æ¥æ•°** | > 50,000 | è¿æ¥æ± æµ‹è¯• | â³ å¾…éªŒè¯ |
| **å†…å­˜å ç”¨** | < 4GB | å‹åŠ›æµ‹è¯•ç›‘æ§ | â³ å¾…éªŒè¯ |

**å®ç°è¯´æ˜**:
- âœ… **å¤šçº§ç¼“å­˜æ¶æ„**: L1 (RingBuffer) + L2 (DoubleBuffer) + L3 (Redis) å®Œæ•´å®ç°
- âœ… **å¼‚æ­¥é¢„åŠ è½½**: Segment å·æ®µå¼‚æ­¥åŠ è½½ï¼Œä¸šåŠ¡æ— æ„ŸçŸ¥
- âš ï¸ **æ€§èƒ½åŸºçº¿**: æ¶æ„æ”¯æŒç™¾ä¸‡çº§ QPSï¼Œéœ€å‹åŠ›æµ‹è¯•éªŒè¯

### 3.2 å¯ç”¨æ€§éœ€æ±‚

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | çŠ¶æ€ | å®ç°è¯´æ˜ |
| ---------------- | -------------------------- | -------- | -------- |
| **ç³»ç»Ÿå¯ç”¨æ€§** | > 99.99% (å¹´åœæœº < 53åˆ†é’Ÿ) | â³ å¾…éªŒè¯ | å¤šçº§é™çº§ç­–ç•¥æ¡†æ¶å°±ç»ª |
| **æ•…éšœæ¢å¤æ—¶é—´** | < 30ç§’ (è‡ªåŠ¨æ•…éšœè½¬ç§») | âŒ æœªå®ç° | éœ€å®Œå–„æ•…éšœæ£€æµ‹å’Œè‡ªåŠ¨æ¢å¤ |
| **æ•°æ®æŒä¹…æ€§** | å·æ®µåˆ†é…è®°å½• 100% æŒä¹…åŒ– | âœ… å·²å®ç° | PostgreSQL æŒä¹…åŒ–å·²å®ç° |

### 3.3 æ‰©å±•æ€§éœ€æ±‚

| éœ€æ±‚ | æè¿° | çŠ¶æ€ | å®ç°è¯´æ˜ |
| -------------- | ------------------------------ | -------- | -------- |
| **æ¨ªå‘æ‰©å±•** | æ”¯æŒåŠ¨æ€å¢åŠ èŠ‚ç‚¹ï¼Œæ— éœ€åœæœº | âš ï¸ éƒ¨åˆ†å®ç° | æ— çŠ¶æ€è®¾è®¡ï¼Œæ”¯æŒæ°´å¹³æ‰©å±•ï¼›éœ€è´Ÿè½½å‡è¡¡é…åˆ |
| **ä¸šåŠ¡éš”ç¦»** | æ”¯æŒ 1000+ ä¸šåŠ¡æ ‡ç­¾(biz_tag) | âœ… å·²å®ç° | Workspace + Group + BizTag ä¸‰çº§éš”ç¦» |
| **è·¨ DC æ‰©å±•** | æ”¯æŒ 8 ä¸ªæ•°æ®ä¸­å¿ƒï¼ŒID ç©ºé—´éš”ç¦» | âš ï¸ éƒ¨åˆ†å®ç° | DC_ID è®¾è®¡å·²å°±ç»ªï¼Œetcd åè°ƒæœªå®ç° |

### 3.4 å®‰å…¨æ€§éœ€æ±‚

| éœ€æ±‚ | æè¿° | çŠ¶æ€ | å®ç°è¯´æ˜ |
| -------------- | ------------------------------------- | -------- | -------- |
| **API è®¤è¯** | **åŸºäº Workspace çš„ API Key è®¤è¯** | âœ… å·²å®ç° | X-API-Key å¼ºåˆ¶éªŒè¯ - `crates/core/src/auth.rs` |
| **ä¼ è¾“åŠ å¯†** | æ”¯æŒ TLS 1.3 åŠ å¯† | âŒ æœªå®ç° | éœ€é…ç½®å±‚æ”¯æŒ TLS |
| **è®¿é—®æ§åˆ¶** | API é™æµï¼š1000 QPS/IP | âœ… å·²å®ç° | ä»¤ç‰Œæ¡¶ç®—æ³•å®ç° - `crates/server/src/rate_limit.rs` |
| **å¯†é’¥ç®¡ç†** | API Key å®šæœŸè½®è½¬ï¼ˆ90å¤©ï¼‰ | âŒ æœªå®ç° | éœ€å®ç°å¯†é’¥è½®è½¬æœºåˆ¶ |
| **å®¡è®¡æ—¥å¿—** | è®°å½•æ‰€æœ‰ API è°ƒç”¨ã€é…ç½®å˜æ›´å’Œå‘Šè­¦äº‹ä»¶ | ğŸ”„ å¼€å‘ä¸­ | é…ç½®å˜æ›´/é™çº§äº‹ä»¶å®¡è®¡æ—¥å¿—å®ç°ä¸­ |
| **æ•°æ®åº“å®‰å…¨** | PostgreSQL è¿æ¥åŠ å¯†ï¼Œå¯†ç è½®è½¬ | âš ï¸ éƒ¨åˆ†å®ç° | è¿æ¥åŠ å¯†éœ€é…ç½®ï¼Œå¯†ç è½®è½¬æœªå®ç° |

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- å®ç° TLS é…ç½®æ”¯æŒ
- å®ç°é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶
- å®ç° API Key è‡ªåŠ¨è½®è½¬æœºåˆ¶
- å®Œå–„å®¡è®¡æ—¥å¿—ï¼ˆé…ç½®å˜æ›´ã€é™çº§äº‹ä»¶ï¼‰

### 3.5 å¯ç»´æŠ¤æ€§éœ€æ±‚

| éœ€æ±‚ | æè¿° | çŠ¶æ€ | å®ç°è¯´æ˜ |
| -------------- | --------------------------------- | -------- | -------- |
| **æ—¥å¿—è§„èŒƒ** | ç»“æ„åŒ–æ—¥å¿—(JSON)ï¼Œæ—¥å¿—çº§åˆ«å¯é…ç½® | âœ… å·²å®ç° | tracing æ—¥å¿—æ¡†æ¶ï¼ŒJSON æ ¼å¼ |
| **ç›‘æ§æŒ‡æ ‡** | Prometheus æ ¼å¼ï¼Œæ¶µç›–æ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡ | âœ… å·²å®ç° | å®Œæ•´ Prometheus æŒ‡æ ‡ - `crates/core/src/metrics/mod.rs` |
| **åˆ†å¸ƒå¼è¿½è¸ª** | é›†æˆ OpenTelemetry | âŒ æœªå®ç° | éœ€é›†æˆ OpenTelemetry SDK |
| **é…ç½®ç®¡ç†** | çƒ­æ›´æ–°é…ç½®ï¼Œæ— éœ€é‡å¯æœåŠ¡ | âœ… å·²å®ç° | æ–‡ä»¶ç›‘æ§çƒ­æ›´æ–°æœºåˆ¶ - `crates/server/src/config_hot_reload.rs` |

**å®ç°æ–‡ä»¶**:
- `crates/core/src/metrics/mod.rs` - Prometheus æŒ‡æ ‡å®šä¹‰
- `crates/core/src/tracing.rs` - ç»“æ„åŒ–æ—¥å¿—é…ç½®

---

## å››ã€ç”¨æˆ·ç•Œé¢åŸå‹ï¼ˆç®¡ç†åå°ï¼‰

### 4.1 ä¸»å¯¼èˆªç»“æ„

```
ç®¡ç†åå°
â”œâ”€â”€ ä»ªè¡¨ç›˜ (Dashboard)
â”‚   â”œâ”€â”€ å®æ—¶ç›‘æ§
â”‚   â”œâ”€â”€ QPS è¶‹åŠ¿å›¾
â”‚   â””â”€â”€ å‘Šè­¦æ±‡æ€»
â”œâ”€â”€ é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ å·¥ä½œç©ºé—´åˆ—è¡¨
â”‚   â”œâ”€â”€ åˆ†ç»„åˆ—è¡¨
â”‚   â”œâ”€â”€ ä¸šåŠ¡æ ‡ç­¾åˆ—è¡¨ (BizTags)
â”‚   â””â”€â”€ API Key ç®¡ç†
â”œâ”€â”€ ç›‘æ§å‘Šè­¦
â”‚   â”œâ”€â”€ å®æ—¶æŒ‡æ ‡
â”‚   â”œâ”€â”€ å‘Šè­¦å†å²
â”‚   â””â”€â”€ å‘Šè­¦è§„åˆ™é…ç½®
â”œâ”€â”€ å®¡è®¡æ—¥å¿—
â”‚   â”œâ”€â”€ é…ç½®å˜æ›´è®°å½•
â”‚   â”œâ”€â”€ API è°ƒç”¨æ—¥å¿—
â”‚   â””â”€â”€ é™çº§äº‹ä»¶è®°å½•
â””â”€â”€ ç³»ç»Ÿè®¾ç½®
    â”œâ”€â”€ å…¨å±€é…ç½®
    â”œâ”€â”€ ç”¨æˆ·ç®¡ç†
    â””â”€â”€ æƒé™ç®¡ç†
```

### 4.2 å…³é”®é¡µé¢æè¿°

#### é¡µé¢ 1: ä»ªè¡¨ç›˜ â³ å¾…è®¾è®¡

- **æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡**: å½“å‰ QPSã€å¹³å‡å»¶è¿Ÿã€æˆåŠŸç‡ã€å‘Šè­¦æ•°é‡
- **å®æ—¶ QPS æŠ˜çº¿å›¾**: æœ€è¿‘ 1 å°æ—¶æ•°æ®
- **ç®—æ³•ä½¿ç”¨åˆ†å¸ƒé¥¼å›¾**: Segment/Snowflake/UUID æ¯”ä¾‹
- **è·¨ DC æµé‡åˆ†å¸ƒ**: å„æ•°æ®ä¸­å¿ƒ QPS å¯¹æ¯”

#### é¡µé¢ 2: ä¸šåŠ¡æ ‡ç­¾é…ç½® â³ å¾…è®¾è®¡

- **åˆ—è¡¨è§†å›¾**: æ˜¾ç¤ºæ‰€æœ‰ä¸šåŠ¡æ ‡ç­¾åŠå…¶é…ç½®
- **åˆ›å»º/ç¼–è¾‘è¡¨å•**: 
  - åŸºæœ¬ä¿¡æ¯ï¼šåç§°ã€æè¿°
  - ç®—æ³•é€‰æ‹©ï¼šSegment/Snowflake/UUID v7
  - æ ¼å¼é…ç½®ï¼šID å‰ç¼€ã€é•¿åº¦
  - æ€§èƒ½é…ç½®ï¼šåŸºå‡†æ­¥é•¿ã€ç¼“å­˜å¤§å°

#### é¡µé¢ 3: ç›‘æ§å¤§ç›˜ â³ å¾…è®¾è®¡

- **é›†æˆ Grafana ä»ªè¡¨ç›˜**: iframe åµŒå…¥
- **å¿«æ·ç­›é€‰**: æŒ‰ä¸šåŠ¡æ ‡ç­¾ã€æ—¶é—´èŒƒå›´ã€æ•°æ®ä¸­å¿ƒç­›é€‰
- **å…³é”®æŒ‡æ ‡**: QPSã€å»¶è¿Ÿã€é”™è¯¯ç‡ã€å·æ®µæ¶ˆè€—é€Ÿç‡

---

## äº”ã€éªŒæ”¶æ ‡å‡†æ€»ç»“

### 5.1 åŠŸèƒ½éªŒæ”¶

| éªŒæ”¶é¡¹ | çŠ¶æ€ | è¯´æ˜ |
| ------ | ------ | ------ |
| æ‰€æœ‰æ ¸å¿ƒ API æ­£å¸¸å·¥ä½œä¸”é€šè¿‡ API Key è®¤è¯ | âœ… å·²å®ç° | RESTful API å·²å®ç°ï¼Œè®¤è¯ä¸­é—´ä»¶å·²é›†æˆ |
| 3 ç§ç®—æ³•ï¼ˆSegment/Snowflake/UUIDï¼‰é€šè¿‡æµ‹è¯• | âœ… å·²å®ç° | æ ¸å¿ƒç®—æ³•å®ç°å®Œæ•´ï¼Œå¾…å•å…ƒæµ‹è¯•è¡¥å…… |
| è‡ªåŠ¨é™çº§ç­–ç•¥ï¼ˆå«æ—¶é’Ÿå›æ‹¨å¤„ç†ï¼‰åœ¨æ¨¡æ‹Ÿæ•…éšœä¸‹æ­£å¸¸å·¥ä½œ | âš ï¸ éƒ¨åˆ†å®ç° | Snowflake æ—¶é’Ÿå›æ‹¨å¤„ç†å·²å®ç°ï¼ŒDB æ•…éšœé™çº§æœªå®ç° |
| ç®¡ç†åå°åŸºæœ¬åŠŸèƒ½å¯ç”¨ | âŒ æœªå®ç° | éœ€å®ç°ç®¡ç† API å’Œå‰ç«¯ç•Œé¢ |

### 5.2 æ€§èƒ½éªŒæ”¶

| éªŒæ”¶é¡¹ | çŠ¶æ€ | è¯´æ˜ |
| ------ | ------ | ------ |
| **å‹æµ‹è¾¾åˆ° 1,000,000 QPS** | â³ å¾…éªŒè¯ | æ¶æ„æ”¯æŒï¼Œéœ€å‹åŠ›æµ‹è¯• |
| P99 å»¶è¿Ÿ < 10ms | â³ å¾…éªŒè¯ | éœ€å‹åŠ›æµ‹è¯•éªŒè¯ |
| å†…å­˜å ç”¨ < 4GB | â³ å¾…éªŒè¯ | éœ€å‹åŠ›æµ‹è¯•ç›‘æ§ |

### 5.3 å¯ç”¨æ€§éªŒæ”¶

| éªŒæ”¶é¡¹ | çŠ¶æ€ | è¯´æ˜ |
| ------ | ------ | ------ |
| æ•°æ®åº“æ•…éšœè‡ªåŠ¨é™çº§ï¼ŒRTO < 30s | âŒ æœªå®ç° | éœ€å®Œå–„é™çº§é€»è¾‘ |
| etcd æ•…éšœæœåŠ¡æ­£å¸¸è¿è¡Œï¼ˆä½¿ç”¨ç¼“å­˜é…ç½®ï¼‰ | âŒ æœªå®ç° | éœ€ etcd é›†æˆå’Œæœ¬åœ°ç¼“å­˜ |
| å•èŠ‚ç‚¹æ•…éšœä¸å½±å“æ•´ä½“æœåŠ¡ | âš ï¸ éƒ¨åˆ†å®ç° | æ— çŠ¶æ€è®¾è®¡ï¼Œè´Ÿè½½å‡è¡¡é…åˆ |
| è·¨ DC éƒ¨ç½²æ—  ID å†²çª | âš ï¸ éƒ¨åˆ†å®ç° | DC_ID è®¾è®¡å°±ç»ªï¼Œetcd åè°ƒå¾…å®ç° |

### 5.4 å®‰å…¨éªŒæ”¶

| éªŒæ”¶é¡¹ | çŠ¶æ€ | è¯´æ˜ |
| ------ | ------ | ------ |
| TLS åŠ å¯†æ­£å¸¸å·¥ä½œ | âŒ æœªå®ç° | éœ€ TLS é…ç½®æ”¯æŒ |
| API Key è®¤è¯ç”Ÿæ•ˆï¼Œæ— æ•ˆ Key è¿”å› 401 | âœ… å·²å®ç° | è®¤è¯ä¸­é—´ä»¶å·²é›†æˆ |
| API é™æµç”Ÿæ•ˆ | âœ… å·²å®ç° | ä»¤ç‰Œæ¡¶é™æµä¸­é—´ä»¶å·²é›†æˆ |
| å®¡è®¡æ—¥å¿—å®Œæ•´è®°å½• | âš ï¸ éƒ¨åˆ†å®ç° | API è°ƒç”¨æ—¥å¿—ä¸­é—´ä»¶å·²å®ç°ï¼Œé…ç½®å˜æ›´/é™çº§äº‹ä»¶å¾…å®Œå–„ |

---

## å…­ã€é¡¹ç›®é‡Œç¨‹ç¢‘

| é˜¶æ®µ | æ—¶é—´ | äº¤ä»˜ç‰© | çŠ¶æ€ | è¿›åº¦è¯´æ˜ |
| ----------- | ---------- | ---------------------------------------- | -------- | -------- |
| **Phase 1** | Week 1-4 | åŸºç¡€æ¶æ„ + æ ¸å¿ƒç®—æ³• (å«ç™¾ä¸‡çº§ä¼˜åŒ–) | âš ï¸ éƒ¨åˆ†å®Œæˆ | æ ¸å¿ƒç®—æ³•å·²å®ç°ï¼Œæ€§èƒ½å¾…éªŒè¯ |
| **Phase 2** | Week 5-8 | é«˜å¯ç”¨ + è·¨ DC æ”¯æŒ + Worker ID è‡ªåŠ¨åˆ†é… | âš ï¸ éƒ¨åˆ†å®ç° | é™çº§ç­–ç•¥ã€è·¨ DC å¾…å®Œå–„ |
| **Phase 3** | Week 9-11 | ç›‘æ§å‘Šè­¦ + ç®¡ç†åå° + API Key è®¤è¯ | âš ï¸ éƒ¨åˆ†å®ç° | API Keyã€ç›‘æ§å·²å®ç°ï¼›å‘Šè­¦ã€ç®¡ç†åå°å¾…å®ç° |
| **Phase 4** | Week 12-14 | å‹æµ‹ä¼˜åŒ– + ä¸Šçº¿ | â³ å¾…å¼€å§‹ | å¾… Phase 1-3 å®Œæˆ |

**å½“å‰æ€»ä½“è¿›åº¦**: Phase 1 å®Œæˆçº¦ 70%

---

## ä¸ƒã€é£é™©ä¸å‡è®¾

### 7.1 å…³é”®å‡è®¾

| å‡è®¾ | çŠ¶æ€ | éªŒè¯æƒ…å†µ |
| ---- | ------ | -------- |
| PostgreSQL ä½œä¸ºä¸»æ•°æ®åº“å¯æ»¡è¶³æ€§èƒ½éœ€æ±‚ | âœ… åˆç† | æ¶æ„è®¾è®¡åˆç†ï¼Œå¾…å‹åŠ›æµ‹è¯•éªŒè¯ |
| Redis é›†ç¾¤æä¾›ç¨³å®šçš„ç¼“å­˜æœåŠ¡ | âœ… åˆç† | å¤šçº§ç¼“å­˜æ¶æ„å·²å®ç° |
| etcd é›†ç¾¤ç½‘ç»œå»¶è¿Ÿ < 5ms | âš ï¸ å¾…éªŒè¯ | etcd é›†æˆå°šæœªå®ç° |

### 7.2 å·²è¯†åˆ«é£é™©

| é£é™© | å½±å“ | åº”å¯¹æªæ–½ | çŠ¶æ€ | æ›´æ–°è¯´æ˜ |
| ---------------- | ---- | -------------------------------------- | -------- | -------- |
| SeaORM æ€§èƒ½ç“¶é¢ˆ | é«˜ | æå‰æ€§èƒ½æµ‹è¯•ï¼Œå‡†å¤‡ SQLx å¤‡é€‰æ–¹æ¡ˆ | â³ å¾…è¯„ä¼° | å½“å‰ä½¿ç”¨ SeaORMï¼Œå¯è€ƒè™‘ SQLx å¤‡é€‰ |
| è·¨ DC å·æ®µå†²çª | é«˜ | ä¸¥æ ¼çš„ DC_ID åˆ†é…æœºåˆ¶ + é¢„åˆ†é… 1T åŒºé—´ | âš ï¸ éƒ¨åˆ†è§£å†³ | DC_ID è®¾è®¡å°±ç»ªï¼Œetcd åè°ƒå¾…å®ç° |
| æ—¶é’Ÿå›æ‹¨å¯¼è‡´é˜»å¡ | ä¸­ | é‡‡ç”¨éé˜»å¡ç­‰å¾…é˜Ÿåˆ— + é€»è¾‘æ—¶é’Ÿ | âœ… å·²è§£å†³ | Snowflake é€»è¾‘æ—¶é’ŸæŠ—å›æ‹¨å·²å®ç° |

**æ–°å¢é£é™©**:

| é£é™© | å½±å“ | åº”å¯¹æªæ–½ | çŠ¶æ€ |
| ---- | ---- | -------------------------------------- | -------- |
| gRPC æœåŠ¡ç«¯æœªå®Œæ•´å®ç° | é«˜ | ä¼˜å…ˆå®Œæˆ gRPC æœåŠ¡å™¨ç«¯é›†æˆ | âš ï¸ éœ€å…³æ³¨ |
| å‘Šè­¦ç®¡ç†æœªå®ç° | ä¸­ | çº³å…¥ Phase 3 ä¼˜å…ˆçº§å®ç° | âŒ é«˜ä¼˜å…ˆçº§ |
| é…ç½®çƒ­æ›´æ–°å·²å®ç° | ä½ | å®ç°é…ç½®ç›‘å¬å’Œçƒ­æ›´æ–°æœºåˆ¶ | âœ… å·²å®Œæˆ |

---

## å…«ã€é™„å½•

### 8.1 æœ¯è¯­è¡¨

| æœ¯è¯­ | æè¿° | å®ç°çŠ¶æ€ |
| ---- | ---------------------------------------- | -------- |
| **Workspace** | å·¥ä½œç©ºé—´ï¼Œé¡¶å±‚é€»è¾‘éš”ç¦»å•å…ƒ | âœ… è®¾è®¡å°±ç»ª |
| **Group** | åˆ†ç»„ï¼Œä¸šåŠ¡ç³»ç»Ÿçº§åˆ«çš„éš”ç¦» | âœ… è®¾è®¡å°±ç»ª |
| **BizTag (Business Tag)** | ä¸šåŠ¡æ ‡ç­¾ï¼Œå…·ä½“çš„ ID ç±»å‹ï¼ˆåŸ Nameï¼‰ | âœ… è¿è¡Œæ—¶æ”¯æŒ |
| **Segment** | å·æ®µï¼Œé¢„åˆ†é…çš„ ID èŒƒå›´ | âœ… å·²å®ç° |
| **DC_ID** | æ•°æ®ä¸­å¿ƒæ ‡è¯†ç¬¦ï¼Œç”¨äºè·¨ DC éš”ç¦» | âœ… è®¾è®¡å°±ç»ª |
| **DoubleBuffer** | åŒç¼“å†²æœºåˆ¶ï¼Œå½“å‰å·æ®µ+é¢„åŠ è½½å·æ®µ | âœ… å·²å®ç° |
| **RingBuffer** | ç¯å½¢ç¼“å†²åŒºï¼ŒL1 çº§ç¼“å­˜ | âœ… å·²å®ç° |

### 8.2 å‚è€ƒèµ„æ–™

- ç¾å›¢ Leaf æŠ€æœ¯æ–¹æ¡ˆ: https://tech.meituan.com/2017/04/21/mt-leaf.html
- ç™¾åº¦ UidGenerator: https://github.com/baidu/uid-generator
- æ»´æ»´ TinyID: https://github.com/didi/tinyid

---

## ä¹ã€å®ç°çŠ¶æ€ç»Ÿè®¡

### 9.1 åŠŸèƒ½æ¨¡å—å®Œæˆåº¦

| æ¨¡å— | å·²å®ç° | éƒ¨åˆ†å®ç° | æœªå®ç° | å®Œæˆåº¦ |
|------|--------|----------|--------|--------|
| æ ¸å¿ƒç®—æ³• (F1-F5) | 3 | 2 | 0 | 60% |
| ç®¡ç†åŠŸèƒ½ (F6-F8) | 1 | 2 | 1 | 33% |
| API åŠŸèƒ½ (F9-F10) | 3 | 2 | 0 | 60% |
| **æ€»è®¡** | **7** | **6** | **1** | **54%** |

### 9.2 éåŠŸèƒ½éœ€æ±‚å®Œæˆåº¦

| åˆ†ç±» | å·²å®ç° | éƒ¨åˆ†å®ç° | æœªå®ç° | å®Œæˆåº¦ |
|------|--------|----------|--------|--------|
| æ€§èƒ½éœ€æ±‚ | 2 | 1 | 0 | 67% |
| å¯ç”¨æ€§éœ€æ±‚ | 1 | 0 | 1 | 33% |
| æ‰©å±•æ€§éœ€æ±‚ | 1 | 2 | 0 | 50% |
| å®‰å…¨æ€§éœ€æ±‚ | 1 | 2 | 3 | 25% |
| å¯ç»´æŠ¤æ€§éœ€æ±‚ | 2 | 0 | 2 | 50% |
| **æ€»è®¡** | **7** | **5** | **6** | **44%** |

### 9.3 æ€»ä½“è¿›åº¦

- **åŠŸèƒ½å®ç°**: çº¦ 54%
- **éåŠŸèƒ½éœ€æ±‚**: çº¦ 44%
- **æ•´ä½“å®Œæˆåº¦**: çº¦ 50%

---

**æ–‡æ¡£çŠ¶æ€**: ğŸ“ æ›´æ–°å®Œæˆ  
**æ›´æ–°æ—¥æœŸ**: 2025-12-24  
**æ›´æ–°å†…å®¹**: æ ¹æ®ä»£ç å®ç°çŠ¶æ€æ›´æ–°æ‰€æœ‰åŠŸèƒ½æ¨¡å—å®ç°æƒ…å†µ  
**ä¸‹æ¬¡æ›´æ–°**: ä»£ç é‡å¤§å˜æ›´åæˆ–æ¯å‘¨åŒæ­¥